<link rel="stylesheet" href="./src/styles/utils.css" />
<style>
  :host {
    container-type: inline-size;
  }

  button,
  fieldset {
    background-color: transparent;
    border: none;
    margin: 0;
    padding: 0;
  }

  .jar-container {
    position: relative;
    background: white;
    border-radius: 1.2cqw;
    box-shadow: 0 2cqw 6cqw rgba(0, 0, 0, 0.3);
    padding: 2cqw;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 1.5cqw;
    box-sizing: border-box;
    aspect-ratio: 0.75;
    width: 100%;
  }

  .top-controls {
    display: flex;
    align-items: center;
    width: 100%;
  }

  .side-labels {
    display: flex;
    width: 85%;
    justify-content: space-between;
  }

  .remove-btn {
    font-size: 0.5rem;
    color: red;
  }

  .remove-btn:hover {
    transform: scale(1.2);
  }

  .middle-controls {
    display: flex;
    align-items: stretch;
    justify-content: space-between;
    gap: 1.5cqw;
    flex: 1;
    padding: 2cqw;
    box-sizing: border-box;
    width: 100%;
  }

  /* todo: see if need */
  .jar {
    display: block;
    width: 55%;
    height: 100%;
    max-height: 100cqw;
    flex-shrink: 0;
  }

  .colors-container {
    width: 85%;
    display: flex;
    justify-content: space-between;
  }

  .label-container {
    width: 100%;
  }

  .label-input {
    width: 100%;
    padding: 0.8cqw 1cqw;
    border: 0.2cqw solid #e0e0e0;
    border-radius: 0.6cqw;
    font-size: 1rem;
    box-sizing: border-box;
    font-family: inherit;
    text-align: center;
    font-weight: 500;
    color: #222;
    background: #f8f8f8;
    resize: none;
    overflow-wrap: break-word;
    min-height: clamp(2rem, 5cqw, 4rem);
  }

  .label-input:focus {
    outline: none;
    border-color: #667eea;
    background: white;
  }

  jar-illustration {
    width: 100%;
  }
</style>

<section aria-labelledby="jar-name-input" class="jar-container">
  <div class="screenreader-only">
    <span id="left-fill-desc">Left jar fill level</span>
    <span id="right-fill-desc">Right jar fill level</span>
    <span id="left-color-desc">Left jar color</span>
    <span id="right-color-desc">Right jar color</span>
  </div>

  <div class="top-controls">
    <button aria-label="Delete jar" class="remove-btn">Ã—</button>
  </div>

  <div class="side-labels">
    <side-label
      id="label-left-half"
      class="label-left"
      label="G"
      color="#FFFFFF"
    ></side-label>
    <side-label
      id="label-right-half"
      class="label-right"
      label="R"
      color="#FFFFFF"
    ></side-label>
  </div>

  <fieldset class="middle-controls">
    <legend class="screenreader-only">Fill level controls for each jar</legend>
    <vertical-range
      rangevalue="20"
      aria-labelledby="label-left-half left-fill-desc"
      class="range-left"
    ></vertical-range>

    <jar-illustration
      fillleft="30"
      fillright="30"
      colorleft="#DDDDDD"
      colorright="#DDDDDD"
      class="jar-illustration"
    ></jar-illustration>

    <vertical-range
      rangevalue="20"
      aria-labelledby="label-right-half right-fill-desc"
      class="range-right"
    ></vertical-range>
  </fieldset>

  <fieldset class="colors-container">
    <legend class="screenreader-only">Color controls for each jar</legend>

    <color-controls
      aria-labelledby="label-left-half left-color-desc"
      class="colors-left"
    ></color-controls>

    <color-controls
      aria-labelledby="label-right-half right-color-desc"
      class="colors-right"
    ></color-controls>
  </fieldset>

  <div class="label-container">
    <textarea
      id="jar-name-input"
      aria-label="Jar name"
      class="label-input"
    ></textarea>
  </div>
</section>
